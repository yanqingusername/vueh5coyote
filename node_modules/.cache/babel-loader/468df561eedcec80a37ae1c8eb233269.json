{"remainingRequest":"/Users/user/coyote/vue-h5-template/node_modules/babel-loader/lib/index.js!/Users/user/coyote/vue-h5-template/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/user/coyote/vue-h5-template/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/coyote/vue-h5-template/src/pages/login/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/coyote/vue-h5-template/src/pages/login/login.vue","mtime":1648388734972},{"path":"/Users/user/coyote/vue-h5-template/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/coyote/vue-h5-template/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/user/coyote/vue-h5-template/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/coyote/vue-h5-template/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFZlcmlmaWNhdGlvbiwgZ2V0TG9naW4gfSBmcm9tICIuLi8uLi9yZXF1ZXN0L2FwaSI7CmltcG9ydCB7IE5vdGlmeSB9IGZyb20gJ3ZhbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIiIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvZGU6ICIiLAogICAgICAvLyDnlKjmiLflp5PlkI0KICAgICAgcGhvbmU6ICIiLAogICAgICAvLyDogZTns7vnlLXor50KICAgICAgY29kZVJlc3RUaW1lOiAwLAogICAgICByZXN0VGltZTogNjAsCiAgICAgIHBob25lQ29kZTogWyIiLCAiIl0sCiAgICAgIC8v5q2j56Gu55qEIOaJi+acuuWPtyDlkowg6aqM6K+B56CBCiAgICAgIHBob25lU3ViOiAiIiwKICAgICAgY29kZVN1YjogIiIKICAgIH07CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrUGhvbmU6IGZ1bmN0aW9uIGNoZWNrUGhvbmUocGhvbmUpIHsKICAgICAgdmFyIHBob25lUmVnID0gL14xXGR7MTB9JC87CgogICAgICBpZiAocGhvbmUubGVuZ3RoICE9IDExKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgaWYgKCFwaG9uZVJlZy50ZXN0KHBob25lKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGJ0bkNsaWNrOiBmdW5jdGlvbiBidG5DbGljaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB0aGF0ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnBob25lID09ICIiKSB7CiAgICAgICAgTm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICdkYW5nZXInLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmeaJi+acuuWPtycKICAgICAgICB9KTsgLy8gYWxlcnQoIuivt+Whq+WGmeaJi+acuuWPtyIpOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLmNoZWNrUGhvbmUodGhpcy5waG9uZSkpIHsKICAgICAgICBOb3RpZnkoewogICAgICAgICAgdHlwZTogJ2RhbmdlcicsCiAgICAgICAgICBtZXNzYWdlOiAn5omL5py65Y+35pyJ6K+vJwogICAgICAgIH0pOyAvLyBhbGVydCgi5omL5py65Y+35pyJ6K+vIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb2RlUmVzdFRpbWUgPSB0aGlzLnJlc3RUaW1lOwogICAgICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC0tX3RoaXMuY29kZVJlc3RUaW1lOwoKICAgICAgICAgIGlmICghX3RoaXMuY29kZVJlc3RUaW1lKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgZ2V0VmVyaWZpY2F0aW9uKHsKICAgICAgICAgIHBob25lOiB0aGlzLnBob25lCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLm1zZyk7CiAgICAgICAgICAgIHRoYXQucGhvbmVTdWIgPSByZXMucGhvbmU7CiAgICAgICAgICAgIHRoYXQuY29kZVN1YiA9IHJlcy5tc2c7IC8vIHRoYXQucGhvbmVDb2RlWyh0aGF0LnBob25lLCByZXMubXNnKV07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBhbGVydCgi6aqM6K+B56CB5Y+R6YCB5aSx6LSlIik7CiAgICAgICAgICAgIE5vdGlmeSh7CiAgICAgICAgICAgICAgdHlwZTogJ3ByaW1hcnknLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjb21taXQ6IGZ1bmN0aW9uIGNvbW1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyAgIGlmICh0aGlzLnBob25lID09ICIiKSB7CiAgICAgIC8vICAgICAgICBOb3RpZnkoeyB0eXBlOiAnZGFuZ2VyJywgbWVzc2FnZTogJ+ivt+Whq+WGmeaJi+acuuWPtyd9KTsKICAgICAgLy8gICAgIHJldHVybjsKICAgICAgLy8gICB9IGVsc2UgaWYgKCF0aGlzLmNoZWNrUGhvbmUodGhpcy5waG9uZSkpIHsKICAgICAgLy8gICAgICAgTm90aWZ5KHsgdHlwZTogJ2RhbmdlcicsIG1lc3NhZ2U6ICfmiYvmnLrlj7fmnInor68nfSk7CiAgICAgIC8vICAgICByZXR1cm47CiAgICAgIC8vICAgfSBlbHNlIGlmICh0aGlzLmNvZGUgPT0gIiIpIHsKICAgICAgLy8gICAgICAgTm90aWZ5KHsgdHlwZTogJ2RhbmdlcicsIG1lc3NhZ2U6ICfor7floavlhpnpqozor4HnoIEnfSk7CiAgICAgIC8vICAgICByZXR1cm47CiAgICAgIC8vICAgfSBlbHNlIGlmICh0aGlzLnBob25lU3ViID09ICIiKSB7CiAgICAgIC8vICAgICBOb3RpZnkoeyB0eXBlOiAnZGFuZ2VyJywgbWVzc2FnZTogJ+ivt+iOt+WPlumqjOivgeeggSd9KTsKICAgICAgLy8gICAgIHJldHVybjsKICAgICAgLy8gICB9IGVsc2UgaWYgKHRoaXMucGhvbmVTdWIgIT0gdGhpcy5waG9uZSkgewogICAgICAvLyAgICAgICBOb3RpZnkoeyB0eXBlOiAnZGFuZ2VyJywgbWVzc2FnZTogJ+mqjOivgeeggei/h+acnyd9KTsKICAgICAgLy8gICAgIHJldHVybjsKICAgICAgLy8gICB9IGVsc2UgaWYgKHRoaXMuY29kZVN1YiAhPSB0aGlzLmNvZGUpIHsKICAgICAgLy8gICAgICAgTm90aWZ5KHsgdHlwZTogJ2RhbmdlcicsIG1lc3NhZ2U6ICfpqozor4HnoIHplJnor68nfSk7CiAgICAgIC8vICAgICByZXR1cm47CiAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgZ2V0TG9naW4oewogICAgICAgIHBob25lOiB0aGlzLnBob25lLAogICAgICAgIHN0YXR1czogMQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgTm90aWZ5KHsKICAgICAgICAgICAgdHlwZTogJ3ByaW1hcnknLAogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogIi9pbnN0cnVtZW50TGlzdCIKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBOb3RpZnkoewogICAgICAgICAgICB0eXBlOiAncHJpbWFyeScsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7IC8vICAgfQogICAgfSwKICAgIGhhbmRsZUxvZ2luOiBmdW5jdGlvbiBoYW5kbGVMb2dpbigpIHsKICAgICAgLy8gdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAvLyAgICAgcGF0aDoiL2luc3RydW1lbnRMaXN0IgogICAgICAvLyB9KQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9pbnN0cnVtZW50TGlzdCIKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"login-section\">\n    <div class=\"root_header\">\n      <img class=\"icon_logo\" src=\"../../assets/images/icon_logo.png\" alt=\"\" />\n      <div class=\"icon_login_text\">库房仪器管理系统</div>\n    </div>\n\n    <div class=\"main\">\n      <div class=\"form-item\">\n        <input\n          v-model=\"phone\"\n          type=\"tel\"\n          name=\"phone\"\n          placeholder=\"请输入手机号码\"\n        />\n        <div class=\"get_code\" @click=\"btnClick\">\n          {{ codeRestTime ? `${codeRestTime}S` : \"获取验证码\" }}\n        </div>\n      </div>\n      <div class=\"form-item\" style=\"margin-top: 20px\">\n        <input\n          v-model=\"code\"\n          type=\"number\"\n          name=\"code\"\n          placeholder=\"请输入验证码\"\n        />\n      </div>\n      <!-- <div class=\"submit_view\" @click=\"commit\">登录</div> -->\n      <van-button class=\"submit_view\" block type=\"info\" @click=\"commit\">登录</van-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getVerification, getLogin } from \"../../request/api\";\nimport { Notify } from 'vant';\n\nexport default {\n  name: \"\",\n  components: {},\n  data() {\n    return {\n      code: \"\", // 用户姓名\n      phone: \"\", // 联系电话\n      codeRestTime: 0,\n      restTime: 60,\n      phoneCode: [\"\", \"\"], //正确的 手机号 和 验证码\n      phoneSub: \"\",\n      codeSub: \"\"\n    };\n  },\n  activated() {},\n  methods: {\n    checkPhone(phone) {\n      var phoneReg = /^1\\d{10}$/;\n      if (phone.length != 11) {\n        return false;\n      } else if (!phoneReg.test(phone)) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    btnClick() {\n      let that = this;\n      if (this.phone == \"\") {\n          Notify({ type: 'danger', message: '请填写手机号'});\n        // alert(\"请填写手机号\");\n      } else if (!this.checkPhone(this.phone)) {\n          Notify({ type: 'danger', message: '手机号有误'});\n        // alert(\"手机号有误\");\n      } else {\n        this.codeRestTime = this.restTime;\n        let timer = setInterval(() => {\n          --this.codeRestTime;\n          if (!this.codeRestTime) {\n            clearInterval(timer);\n            timer = null;\n          }\n        }, 1000);\n\n        getVerification({\n          phone: this.phone,\n        }).then((res) => {\n          if (res.success) {\n              console.log(res.msg)\n              that.phoneSub = res.phone;\n              that.codeSub = res.msg;\n            // that.phoneCode[(that.phone, res.msg)];\n          } else {\n            // alert(\"验证码发送失败\");\n            Notify({ type: 'primary', message:  res.msg});\n          }\n        });\n      }\n    },\n    commit() {\n    //   if (this.phone == \"\") {\n    //        Notify({ type: 'danger', message: '请填写手机号'});\n    //     return;\n    //   } else if (!this.checkPhone(this.phone)) {\n    //       Notify({ type: 'danger', message: '手机号有误'});\n    //     return;\n    //   } else if (this.code == \"\") {\n    //       Notify({ type: 'danger', message: '请填写验证码'});\n    //     return;\n    //   } else if (this.phoneSub == \"\") {\n    //     Notify({ type: 'danger', message: '请获取验证码'});\n    //     return;\n    //   } else if (this.phoneSub != this.phone) {\n    //       Notify({ type: 'danger', message: '验证码过期'});\n    //     return;\n    //   } else if (this.codeSub != this.code) {\n    //       Notify({ type: 'danger', message: '验证码错误'});\n    //     return;\n    //   } else {\n        getLogin({\n          phone: this.phone,\n          status: 1\n        }).then((res) => {\n          if (res.data.success) {\n            Notify({ type: 'primary', message:  res.msg});\n            this.$router.push({\n                path: \"/instrumentList\",\n            });\n          } else {\n            Notify({ type: 'primary', message:  res.msg});\n          }\n        });\n    //   }\n    },\n    handleLogin() {\n      // this.$router.replace({\n      //     path:\"/instrumentList\"\n      // })\n      this.$router.push({\n        path: \"/instrumentList\",\n      });\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n@import \"../../assets/style/variable.scss\";\n.login-section {\n  height: 100%;\n  flex-direction: column;\n  @include flexCenter;\n  .submit-btn {\n    width: 500px;\n  }\n  .root_header {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    // padding-top: 200px;\n  }\n\n  .icon_logo {\n    width: 172px;\n    height: 146px;\n  }\n\n  .icon_login_text {\n    font-size: 48px;\n    font-family: PingFangSC-Semibold, PingFang SC;\n    font-weight: 600;\n    color: #333333;\n    line-height: 33px;\n    margin-top: 60px;\n  }\n\n  .main {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding-top: 50px;\n  }\n  .form-item {\n    display: flex;\n    height: 100px;\n    position: relative;\n    align-items: center;\n\n    input {\n      height: 100px;\n      border: none;\n      outline: none;\n      width: 600px;\n      border-bottom: 1px solid #dddddd;\n      font-size: 36px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: #999999;\n    //   padding: 0px 50px;\n    }\n  }\n\n  .submit_view {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 60px;\n    width: 500px;\n    background: #307ff5;\n    border-radius: 6px;\n    color: #ffffff;\n    font-size: 44px;\n  }\n\n  .get_code {\n    position: absolute;\n    right: 25px;\n    font-size: 36px;\n    font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    color: #307ff5;\n    line-height: 25px;\n  }\n}\n</style>"],"sourceRoot":"src/pages/login"}]}